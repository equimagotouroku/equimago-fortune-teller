<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿã‹ã‚‰ã®è´ˆã‚Šç‰©ï½œã‚ãªãŸã®é‹å‘½ã‚«ãƒ©ãƒ¼å ã„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&family=Kiwi+Maru:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* åŸºæœ¬ã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š */
        body {
            font-family: 'Kiwi Maru', 'M PLUS Rounded 1c', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
        .bg-gradient-galaxy {
            background: linear-gradient(160deg, #fde4f2 0%, #e5dcfc 50%, #d8e6ff 100%);
        }
        
        .card {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-primary {
            background: linear-gradient(135deg, #f7abfa, #a693f8);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(180, 160, 240, 0.4);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(180, 160, 240, 0.6);
        }

        .btn-secondary {
            background-color: rgba(255, 255, 255, 0.8);
            color: #8b5cf6;
            transition: all 0.3s ease;
            border: 1px solid #d8b4fe;
        }
        .btn-secondary:hover {
            background-color: #fff;
            transform: scale(1.03);
        }
        
        .btn-hotpepper {
            background-color: #ff4500;
        }
        
        .btn-tel {
            background-color: #34d399;
        }

        /* ç”»é¢é·ç§»ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .screen {
            animation: fadeIn 0.7s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æ˜Ÿã®èƒŒæ™¯ */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle linear infinite;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* ãƒ­ã‚´ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .logo-container {
            width: 100%;
            max-width: 300px; /* ãƒ­ã‚´ã®æœ€å¤§å¹… */
            height: 96px; /* h-24 (96px) ã«åˆã‚ã›ã‚‹ */
            margin: 0 auto 1.5rem; /* mx-auto mb-6 ã«åˆã‚ã›ã‚‹ */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-svg {
            width: 100%;
            height: 100%;
            max-width: 300px;
            max-height: 96px;
        }

        .logo-text-en {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            font-weight: 700; /* Bold */
            fill: #E54D5D; /* èµ¤ã£ã½ã„è‰² */
        }

        .logo-text-jp {
            font-family: 'Kiwi Maru', sans-serif;
            font-weight: 500; /* Medium */
            fill: #E54D5D; /* èµ¤ã£ã½ã„è‰² */
        }
    </style>
</head>
<body class="bg-gradient-galaxy text-gray-700">

    <div class="stars" id="stars-container"></div>

    <div id="app" class="min-h-screen flex flex-col items-center justify-center p-4 sm:p-6">
        
        <!-- ãƒˆãƒƒãƒ—ç”»é¢ -->
        <section id="start-screen" class="screen w-full max-w-md text-center">
            <div class="card p-8 rounded-3xl shadow-lg">
                <!-- ãƒ­ã‚´ã‚’SVGã§è¡¨ç¤º -->
                <div class="logo-container">
                    <svg class="logo-svg" viewBox="0 0 300 96" preserveAspectRatio="xMidYMid meet">
                        <!-- èƒŒæ™¯ã®ä¸¸ã¿ã‚’å¸¯ã³ãŸé•·æ–¹å½¢ -->
                        <rect x="0" y="0" width="300" height="96" rx="15" ry="15" fill="#FFFFFF" opacity="0.9" />

                        <!-- ãƒ†ã‚­ã‚¹ãƒˆ -->
                        <text x="50%" y="40%" dominant-baseline="middle" text-anchor="middle" font-size="40" class="logo-text-en">equimago</text>
                        <text x="50%" y="80%" dominant-baseline="middle" text-anchor="middle" font-size="28" class="logo-text-jp">ã‚¨ã‚­ãƒãƒ¼ã‚´</text>

                        <!-- å°ã•ãªæ˜Ÿã®ã‚¢ã‚¤ã‚³ãƒ³ (ä¾‹: equimagoã®'o'ã®è¿‘ã) -->
                        <polygon points="200,35 202,40 207,40 203,43 204,48 200,45 196,48 197,43 193,40 198,40" fill="#FFD700" />

                        <!-- ã‹ã‚ã„ã„é­”æ³•ä½¿ã„ã®ã‚¤ãƒ©ã‚¹ãƒˆ -->
                        <!-- æœ¬ä½“ -->
                        <path d="M100 30 C 95 20, 85 20, 80 30 L 80 50 C 85 60, 95 60, 100 50 Z" fill="#FFC0CB" />
                        <!-- å¸½å­ -->
                        <path d="M85 25 L 90 10 L 105 20 L 100 30 Z" fill="#8A2BE2" />
                        <!-- è…• -->
                        <path d="M82 35 Q 75 40, 78 45" stroke="#FFC0CB" stroke-width="3" fill="none" />
                        <path d="M98 35 Q 105 40, 102 45" stroke="#FFC0CB" stroke-width="3" fill="none" />
                        <!-- ç›® -->
                        <circle cx="90" cy="35" r="1.5" fill="#333" />
                        <circle cx="95" cy="35" r="1.5" fill="#333" />
                        <!-- å£ -->
                        <path d="M92.5 40 Q 90 42, 95 42" stroke="#333" stroke-width="1" fill="none" />
                        <!-- ã»ã†ã -->
                        <line x1="75" y1="48" x2="60" y2="55" stroke="#A0522D" stroke-width="2" />
                        <circle cx="60" cy="55" r="3" fill="#A0522D" />
                        <path d="M58 55 Q 55 58, 57 60 Q 60 63, 63 60 Q 65 58, 62 55 Z" fill="#D2B48C" />
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold text-purple-600 mb-2" style="font-family: 'M PLUS Rounded 1c', sans-serif;">æ˜Ÿã‹ã‚‰ã®è´ˆã‚Šç‰©</h1>
                <h2 class="text-xl md:text-2xl font-medium text-purple-500 mb-8">ã‚ãªãŸã®é‹å‘½ã‚«ãƒ©ãƒ¼å ã„</h2>
                <p class="mb-10 text-gray-600">4ã¤ã®ç°¡å˜ãªè³ªå•ã«ç­”ãˆã¦<br>ã‚ãªãŸã ã‘ã®ç‰¹åˆ¥ãªé«ªè‰²ã‚’è¦‹ã¤ã‘ã‚ˆã†</p>
                <button id="start-btn" class="btn-primary text-white font-bold py-3 px-12 rounded-full text-lg shadow-lg w-full">
                    è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹
                </button>
            </div>
        </section>

        <!-- è¨ºæ–­ç”»é¢ -->
        <section id="question-screen" class="screen w-full max-w-md hidden">
            <div class="card p-6 sm:p-8 rounded-3xl shadow-lg">
                <div id="question-container">
                    <!-- JSã§è³ªå•ã‚’ã“ã“ã«æŒ¿å…¥ -->
                </div>
                <div class="mt-4 text-center text-sm text-gray-500">
                    <span id="question-counter"></span> / 4
                </div>
            </div>
        </section>

        <!-- çµæœãƒšãƒ¼ã‚¸ -->
        <section id="result-screen" class="screen w-full max-w-md hidden">
            <div class="card p-6 sm:p-8 rounded-3xl shadow-lg text-center">
                <p class="text-purple-500 font-medium">ã‚ãªãŸã®é‹å‘½ã‚«ãƒ©ãƒ¼ã¯...</p>
                <h2 id="result-type-name" class="text-3xl font-bold my-3 bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-500" style="font-family: 'M PLUS Rounded 1c', sans-serif;"></h2>
                <div id="result-image" class="w-40 h-40 rounded-full mx-auto my-6 flex items-center justify-center shadow-inner bg-white">
                    <!-- JSã§ç”»åƒã‚„ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŒ¿å…¥ -->
                </div>
                <p class="text-lg font-bold mb-2">ã‚ãªãŸã¯ <span id="result-type-title"></span> ã‚¿ã‚¤ãƒ—ï¼</p>
                <p id="result-description" class="text-gray-600 mb-6"></p>
                
                <div class="bg-purple-50 p-4 rounded-xl mb-6">
                    <h3 class="font-bold text-purple-600 mb-2">ğŸŒŸ ãŠã™ã™ã‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
                    <p id="result-menu" class="text-lg font-semibold"></p>
                </div>

                <a id="hotpepper-link" href="https://beauty.hotpepper.jp/slnH000753316/" target="_blank" class="block w-full btn-hotpepper text-white font-bold py-3 px-6 rounded-full text-lg mb-4 shadow-md hover:opacity-90 transition-opacity">
                    ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ã§äºˆç´„ã™ã‚‹
                </a>
                <a id="tel-link" href="tel:076-411-6852" class="block w-full btn-tel text-white font-bold py-3 px-6 rounded-full text-lg shadow-md hover:opacity-90 transition-opacity">
                    é›»è©±ã§å•ã„åˆã‚ã›ã‚‹ (076-411-6852)
                </a>
                <button id="retry-btn" class="mt-8 text-gray-500 hover:text-purple-600 transition-colors">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            </div>
        </section>

    </div>

    <script>
        // --- ãƒ‡ãƒ¼ã‚¿å®šç¾© ---
        const quizData = [
            {
                question: "Q1. ä»Šæœã®ã‚ãªãŸã®æ°—åˆ†ã¯ï¼Ÿ",
                answers: [
                    { text: "ã‚¹ãƒƒã‚­ãƒªçˆ½å¿«ï¼", type: "sunlight" },
                    { text: "ã¡ã‚‡ã£ã¨ã‚®ãƒªã‚®ãƒªâ€¦", type: "shimmer" },
                    { text: "ã®ã‚“ã³ã‚Šæ°—ã¾ã¾", type: "pure" },
                    { text: "ãªã‚“ã ã‹çœ ãŸã„â€¦", type: "moon" }
                ]
            },
            {
                question: "Q2. å¥½ããªãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®ç³»çµ±ã¯ï¼Ÿ",
                answers: [
                    { text: "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«", type: "sunlight" },
                    { text: "ã‚¬ãƒ¼ãƒªãƒ¼ãƒ»ãƒ•ã‚§ãƒŸãƒ‹ãƒ³", type: "pure" },
                    { text: "ã‚¯ãƒ¼ãƒ«ãƒ»ãƒ¢ãƒ¼ãƒ‰", type: "shimmer" },
                    { text: "ãƒŠãƒãƒ¥ãƒ©ãƒ«ãƒ»ã‚·ãƒ³ãƒ—ãƒ«", type: "moon" }
                ]
            },
            {
                question: "Q3. ä»Šã€æ°—ã«ãªã‚‹ãƒ¯ãƒ¼ãƒ‰ã¯ï¼Ÿ",
                answers: [
                    { text: "ç™’ã—ãƒ»é€æ˜æ„Ÿ", type: "moon" },
                    { text: "ãƒ„ãƒ¤æ„Ÿãƒ»å¤§äººã£ã½ã•", type: "shimmer" },
                    { text: "è¯ã‚„ã‹ãƒ»å¼·ã•", type: "pure" },
                    { text: "è‰²ç´ è–„ã„ç³»ãƒ»æŠœã‘æ„Ÿ", type: "sunlight" }
                ]
            },
            {
                question: "Q4. ç†æƒ³ã®é«ªã«æ±‚ã‚ã‚‹ã‚‚ã®ã¯ï¼Ÿ",
                answers: [
                    { text: "ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚±ã‚¢", type: "moon" },
                    { text: "ã†ã‚‹ãŠã†é€æ˜æ„Ÿ", type: "shimmer" },
                    { text: "ã™ã‚‹ã‚“ã¨ã¾ã¨ã¾ã‚Š", type: "pure" },
                    { text: "ã‚­ãƒ¬ã‚¤ãªè‰²æŒã¡", type: "sunlight" }
                ]
            }
        ];

        const resultsData = {
            moon: {
                name: "ãƒ ãƒ¼ãƒ³ãƒ–ãƒ«ãƒ¼",
                title: "ç™’ã—ã®é€æ˜æ„Ÿ",
                description: "ç©ã‚„ã‹ã§å„ªã—ã„é›°å›²æ°—ã‚’æŒã¤ã‚ãªãŸã€‚å†…é¢ã®é™ã‹ãªè¼ããŒã€å‘¨ã‚Šã®äººã‚’ç™’ã™åŠ›ã«ãªã£ã¦ã„ã¾ã™ã€‚",
                menu: "é€æ˜æ„Ÿã‚«ãƒ©ãƒ¼ï¼‹é«ªè³ªæ”¹å–„",
                color: "bg-blue-200",
                icon: "ğŸŒ™"
            },
            shimmer: {
                name: "ã‚·ãƒãƒ¼ãƒ‘ãƒ¼ãƒ—ãƒ«",
                title: "ç¥ç§˜çš„ãªãƒ„ãƒ¤æ„Ÿ",
                description: "ã¡ã‚‡ã£ã´ã‚ŠãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ã§å¤§äººã£ã½ã„é­…åŠ›ã®æŒã¡ä¸»ã€‚æ´—ç·´ã•ã‚ŒãŸã‚»ãƒ³ã‚¹ã§ã€ä¸€ç›®ç½®ã‹ã‚Œã‚‹å­˜åœ¨ã§ã™ã€‚",
                menu: "ãƒ„ãƒ¤æ„Ÿé‡è¦–ã‚«ãƒ©ãƒ¼",
                color: "bg-purple-200",
                icon: "âœ¨"
            },
            pure: {
                name: "ãƒ”ãƒ¥ã‚¢ãƒ”ãƒ³ã‚¯",
                title: "æ„›ã•ã‚Œãƒ•ã‚§ãƒŸãƒ‹ãƒ³",
                description: "ãµã‚“ã‚ã‚Šã¨ç”˜ãã€è¯ã‚„ã‹ãªã‚ªãƒ¼ãƒ©ã‚’æ”¾ã¤ã‚ãªãŸã€‚ãã®å¯æ„›ã‚‰ã—ã•ã§ã€è‡ªç„¶ã¨ã¿ã‚“ãªã‚’ç¬‘é¡”ã«ã—ã¾ã™ã€‚",
                menu: "ãƒ”ãƒ³ã‚¯ãƒ™ãƒ¼ã‚¸ãƒ¥ç³»ã‚«ãƒ©ãƒ¼ï¼‹ä¿æ¹¿",
                color: "bg-pink-200",
                icon: "ğŸŒ¸"
            },
            sunlight: {
                name: "ã‚µãƒ³ãƒ©ã‚¤ãƒˆãƒ™ãƒ¼ã‚¸ãƒ¥",
                title: "ãƒ˜ãƒ«ã‚·ãƒ¼ãªæŠœã‘æ„Ÿ",
                description: "å¤ªé™½ã®ã‚ˆã†ã«æ˜ã‚‹ãã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚ãªãŸã€‚è‡ªç„¶ä½“ãªé­…åŠ›ã§ã€å‘¨ã‚Šã‚’ãƒ‘ãƒƒã¨æ˜ã‚‹ãã—ã¾ã™ã€‚",
                // ãƒ–ãƒªãƒ¼ãƒãªã—ã§ã‚‚ã€Œè‰²ç´ è–„ã‚ç³»ã€ã€ŒæŠœã‘æ„Ÿã€ã‚’è¡¨ç¾ã§ãã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«å¤‰æ›´
                menu: "é€æ˜æ„ŸUPã‚«ãƒ©ãƒ¼ï¼‹ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ", 
                color: "bg-yellow-200",
                icon: "â˜€ï¸"
            }
        };

        // --- DOMè¦ç´  ---
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const questionContainer = document.getElementById('question-container');
        const questionCounter = document.getElementById('question-counter');

        // --- çŠ¶æ…‹ç®¡ç† ---
        let currentQuestionIndex = 0;
        let userChoices = { moon: 0, shimmer: 0, pure: 0, sunlight: 0 };

        // --- é–¢æ•° ---
        function showScreen(screen) {
            startScreen.classList.add('hidden');
            questionScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            screen.classList.remove('hidden');
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            userChoices = { moon: 0, shimmer: 0, pure: 0, sunlight: 0 };
            showQuestion();
            showScreen(questionScreen);
        }

        function showQuestion() {
            const questionData = quizData[currentQuestionIndex];
            questionCounter.textContent = currentQuestionIndex + 1;
            
            let answersHtml = questionData.answers.map(answer => 
                `<button class="btn-secondary font-semibold py-3 px-5 rounded-full w-full mb-4 text-left" onclick="selectAnswer('${answer.type}')">
                    ${answer.text}
                </button>`
            ).join('');

            questionContainer.innerHTML = `
                <h3 class="text-xl font-bold text-center mb-6">${questionData.question}</h3>
                <div class="flex flex-col">
                    ${answersHtml}
                </div>
            `;
        }

        window.selectAnswer = function(type) {
            userChoices[type]++;
            currentQuestionIndex++;

            if (currentQuestionIndex < quizData.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            // æœ€ã‚‚å¤šãé¸ã°ã‚ŒãŸã‚¿ã‚¤ãƒ—ã‚’æ±ºå®š
            let finalType = Object.keys(userChoices).reduce((a, b) => userChoices[a] > userChoices[b] ? a : b);
            const result = resultsData[finalType];

            // çµæœã‚’DOMã«åæ˜ 
            document.getElementById('result-type-name').textContent = result.name;
            document.getElementById('result-type-title').textContent = result.title;
            document.getElementById('result-description').textContent = result.description;
            document.getElementById('result-menu').textContent = result.menu;
            
            const resultImage = document.getElementById('result-image');
            resultImage.innerHTML = `<span class="text-6xl">${result.icon}</span>`;
            resultImage.className = `w-40 h-40 rounded-full mx-auto my-6 flex items-center justify-center shadow-inner ${result.color}`;


            showScreen(resultScreen);
        }
        
        // --- æ˜Ÿç©ºã®ç”Ÿæˆ ---
        function createStars() {
            const container = document.getElementById('stars-container');
            const starCount = 100;
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.animationDuration = `${Math.random() * 3 + 2}s`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                container.appendChild(star);
            }
        }

        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ ---
        startBtn.addEventListener('click', startQuiz);
        retryBtn.addEventListener('click', () => showScreen(startScreen));
        
        // --- åˆæœŸåŒ– ---
        window.onload = () => {
            createStars();
        };

    </script>
</body>
</html>
